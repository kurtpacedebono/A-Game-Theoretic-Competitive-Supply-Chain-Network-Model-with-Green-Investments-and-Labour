function [F]=scenario2(x)

syms x1 x2 x3 x4 v1 v2 v3 v4 v5 v6 v7 x5 x6 v8 v9 v10 v11 v12

%price fns
p11=100 - 0.001*(x1+x2)-0.0003*x5 +0.001*(v1+v2+v3+v4+v5+v6+v7)-0.0008*(v8+v9+v10+v11+v12);
p12=100 - 0.001*(x3+x4)-0.0003*x6 +0.0015*(v1+v2+v3+v4+v5+v6+v7)-0.001*(v8+v9+v10+v11+v12);

p21=130 - 0.0002*(x1+x2)-0.001*x5 -0.0008*(v1+v2+v3+v4+v5+v6+v7)+0.001*(v8+v9+v10+v11+v12);
p22=130 - 0.0002*(x3+x4)-0.001*x6 -0.001*(v1+v2+v3+v4+v5+v6+v7)+0.0015*(v8+v9+v10+v11+v12);

%cost fns
c1=0.00042*(x1+x3)^2+0.0005*(x1+x3)*v1;
c2=0.00032*(x2+x4)^2+0.0004*(x2+x4)*v2;
c3=0.00008*(x1+x3)^2+0.0001*(x1+x3)*v3;
c4=0.00008*(x2+x4)^2+0.0001*(x2+x4)*v4;
c5=0.0001*(x1+x2+x3+x4)^2+0.0005*(x1+x2+x3+x4)*v5;
c6=0.00008*(x1+x2)^2+0.0001*(x1+x2)*v6;
c7=0.00008*(x3+x4)^2+0.0001*(x3+x4)*v7;

c8=0.00052*(x5+x6)^2+0.0001*(x5+x6)*v8;
c9=0.0001*(x5+x6)^2+0.0001*(x5+x6)*v9;
c10=0.00009*(x5+x6)^2+0.0001*(x5+x6)*v10;
c11=0.00004*(x5)^2+0.0001*(x5)*v11;
c12=0.00004*(x6)^2+0.0001*(x6)*v12;

%labour cost fns
w1=(600/(76))*(x1+x3);
w2=(600/(80))*(x2+x4);
w3=(600/(300))*(x1+x3);
w4=(600/(300))*(x2+x4);
w5=(600/(150))*(x1+x2+x3+x4);
w6=(600/(300))*(x1+x2);
w7=(600/(300))*(x3+x4);

w8=(700/(85))*(x5+x6);
w9=(700/(450))*(x5+x6);
w10=(700/(250))*(x5+x6);
w11=(700/(450))*(x5);
w12=(700/(450))*(x6);

%emission tax fns
t1=5*(0.45*(x1+x3)-0.000005*v1*(x1+x3));
t2=5*(0.34*(x2+x4)-0.000004*v2*(x2+x4));
t3=5*(0.05*(x1+x3)-0.000001*v3*(x1+x3));
t4=5*(0.05*(x2+x4)-0.000001*v4*(x2+x4));
t5=5*(0.45*(x1+x2+x3+x4)-0.000005*v5*(x1+x2+x3+x4));
t6=5*(0.05*(x1+x2)-0.000001*v6*(x1+x2));
t7=5*(0.05*(x3+x4)-0.000001*v7*(x3+x4));

t8=5*(0.25*(x5+x6)-0.000003*v8*(x5+x6));
t9=5*(0.01*(x5+x6)-0.000001*v9*(x5+x6));
t10=5*(0.3*(x5+x6)-0.000004*v10*(x5+x6));
t11=0;
t12=0;

%profit fns
U1= p11*(x1+x2) + p12*(x3+x4) -c1-c2-c3-c4-c5-c6-c7-w1-w2-w3-w4-w5-w6-w7-t1-t2-t3-t4-t5-t5-t6-t7-(v1+v2+v3+v4+v5+v6);
U2= p21*(x5) + p22*(x6) -c8-c9-c10-c11-c12-w8-w9-w10-w11-w12-t8-t9-t10-t11-t12-(v8+v9+v10+v11+v12);

%defining F in VI(F,K) as the partial derivatives of U1 and U2 wrt the vars x and v
d_U1_x1=diff(-U1,x1);
d_U1_x2=diff(-U1,x2);
d_U1_x3=diff(-U1,x3);
d_U1_x4=diff(-U1,x4);
d_U1_v1=diff(-U1,v1);
d_U1_v2=diff(-U1,v2);
d_U1_v3=diff(-U1,v3);
d_U1_v4=diff(-U1,v4);
d_U1_v5=diff(-U1,v5);
d_U1_v6=diff(-U1,v6);
d_U1_v7=diff(-U1,v7);

d_U2_x1=diff(-U2,x5);
d_U2_x2=diff(-U2,x6);
d_U2_v8=diff(-U2,v8);
d_U2_v9=diff(-U2,v9);
d_U2_v10=diff(-U2,v10);
d_U2_v11=diff(-U2,v11);
d_U2_v12=diff(-U2,v12);


F_sym=[d_U1_x1, d_U1_x2, d_U1_x3,d_U1_x4,d_U1_v1,d_U1_v2,d_U1_v3,d_U1_v4,d_U1_v5,d_U1_v6,d_U1_v7,d_U2_x1,d_U2_x2,d_U2_v8,d_U2_v9,d_U2_v10,d_U2_v11,d_U2_v12];

%converting to anonymous fn for quadprog
F=matlabFunction(F_sym,'Vars',{x1,x2,x3,x4,v1,v2,v3,v4,v5,v6,v7,x5,x6,v8,v9,v10,v11,v12});
end